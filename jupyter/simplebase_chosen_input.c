/*
    This file is part of the ChipWhisperer Example Targets
    Copyright (C) 2012-2017 NewAE Technology Inc.

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/

#include "hal.h"
#include <stdint.h>
#include <stdlib.h>
#include <string.h> // memset함수 
#include <math.h>  // expf함수 
#include "simpleserial.h"
//******************************************************************************************************//

#define INPUT 3		// 입력층 노드 개수 
#define HIDDEN 6	// 첫번째 은닉층 노드 개수 
#define OUTPUT 2	// 출력층 노드 개수 

// 입,출력 데이터 
float X[INPUT] = { 0.0  };  // ※ Setting ※
float Y[OUTPUT];	

// Weight ( ※ Setting ※ )
float WX[INPUT][HIDDEN]; // 입력층 - 은닉층(1) 가중치(Weight)  // 왜 INPUT + 1인가?
float WH[HIDDEN][OUTPUT]; // 은닉층(1) - 출력층 가중치(Weight)	

// Weight Sum
float WSX[HIDDEN]; // 입력값으로 계산한 은닉층(1)에 들어갈 가중합
float WSH[OUTPUT]; // 은닉층(1)의 출력값으로 계산한 출력층에 들어갈 가중합 

// Activefunction Result
float AFR[HIDDEN];


// Active Function Implement
// expf : float 입출력 exp 함수 -> 존재하지 않음  

// Sigmoid 
float sigmoid(float h)
{
	return (1 / (1 + exp((-1)*h)));
}

// tanhf : float 입출력 Tanh함수 
float tanh2(float h)
{
   return (2 / (1 + exp(-2 * h)) - 1);

}

// ReLU 
float relu(float h)
{
	return (h > 0 ? h : 0);
}


// 입력값 설정 
int count = 0;  // 입력 테이블 인덱스 

float input[1000] = {
-4.15 , 0.87 , -1.72 ,-5.35 , -2.37 , 2.73 ,-0.11 , -2.54 , -2.33 ,
-4.88 , -2.42 , 2.33 ,-6.39 , -0.33 , 1.76 ,-7.28 , -0.01 , 2.34 ,
-7.63 , 0.65 , 2.04 ,-1.23 , -1.10 , -2.60 ,-3.43 , -0.54 , -0.95 ,
-4.91 , 1.10 , -1.10 ,-4.45 , -0.13 , -0.32 ,-6.55 , -0.71 , 2.37 ,
-0.54 , -2.68 , -1.66 ,-4.40 , -1.89 , 1.42 ,-6.31 , -1.28 , 2.73 ,
-3.21 , -2.95 , 1.31 ,-4.73 , -0.83 , 0.72 ,-5.86 , 1.07 , -0.04 ,
-6.66 , 0.67 , 1.17 ,-1.83 , -1.60 , -1.38 ,-5.92 , 1.38 , -0.26 ,
-6.30 , 0.00 , 1.51 ,-3.53 , -2.07 , 0.82 ,-2.51 , 0.51 , -2.77 ,
-6.50 , 2.84 , -1.10 ,-6.26 , 0.72 , 0.79 ,-9.12 , 2.54 , 1.84 ,
-8.69 , 1.04 , 2.92 ,-3.89 , -2.57 , 1.74 ,-5.21 , 0.44 , 0.06 ,
-2.15 , -0.16 , -2.39 ,-5.03 , 1.32 , -0.98 ,-8.08 , 1.09 , 2.31 ,
-3.12 , -2.07 , 0.52 ,-2.27 , -1.27 , -1.12 ,-3.51 , -0.51 , -0.63 ,
-4.90 , -1.60 , 1.86 ,-6.21 , 1.30 , 0.28 ,-3.34 , -2.15 , 0.87 ,
-2.90 , -0.63 , -1.08 ,-4.41 , -1.97 , 1.78 ,-7.48 , 2.76 , 0.13 ,
-4.52 , -0.37 , 0.31 ,-3.48 , -0.67 , -0.42 ,-8.77 , 2.58 , 1.63 ,
-4.59 , 2.33 , -2.29 ,-5.41 , -0.29 , 1.16 ,-5.22 , -1.45 , 2.14 ,
-1.08 , -2.18 , -1.26 ,-1.15 , -2.83 , -0.53 ,-7.11 , 0.38 , 2.23 ,
-1.29 , -2.83 , -0.37 ,0.36 , -2.46 , -2.38 ,-5.25 , -1.40 , 2.18 ,
-4.10 , -2.14 , 1.78 ,-7.26 , 0.60 , 2.21 ,-2.45 , -0.64 , -1.35 ,
-5.79 , -1.42 , 2.78 ,-4.75 , -0.78 , 1.11 ,-2.30 , -2.86 , 0.75 ,
-3.58 , 1.17 , -1.99 ,-4.19 , 1.69 , -1.89 ,-2.44 , 0.68 , -2.62 ,
-7.39 , 0.44 , 2.58 ,-5.09 , 0.49 , 0.24 ,-4.65 , 0.23 , 0.07 ,
-8.86 , 2.42 , 2.10 ,-3.50 , -0.31 , -0.52 ,0.31 , -2.16 , -2.47 ,
-2.92 , -0.58 , -0.81 ,-8.70 , 1.48 , 2.92 ,-5.92 , 1.72 , -0.09 ,
-7.11 , 1.39 , 1.44 ,-0.05 , -2.62 , -1.60 ,-5.73 , 1.16 , 0.31 ,
-7.13 , 2.38 , 0.50 ,-6.56 , 1.51 , 0.81 ,-6.43 , -0.02 , 2.22 ,
-4.32 , 1.45 , -1.35 ,-4.82 , 1.93 , -1.32 ,-0.67 , -0.91 , -2.62 ,
-4.36 , -1.28 , 1.45 ,-8.00 , 2.69 , 1.13 ,-6.20 , 1.67 , 0.36 ,
-4.69 , 2.57 , -2.04 ,-1.78 , -2.24 , -0.13 ,-3.19 , 0.30 , -1.25 ,
-2.48 , -2.15 , 0.50 ,-3.01 , -0.77 , -0.34 ,-2.83 , -2.84 , 1.56 ,
-8.27 , 1.69 , 2.48 ,-4.06 , 2.01 , -2.04 ,-6.19 , -0.47 , 2.58 ,
-2.04 , -0.57 , -1.46 ,-6.75 , 0.82 , 1.87 ,-4.47 , -0.32 , 0.74 ,
-1.90 , -0.13 , -2.01 ,1.34 , -2.98 , -2.39 ,-0.61 , -1.86 , -1.55 ,
-6.76 , 1.36 , 1.39 ,-7.22 , 1.25 , 1.97 ,-1.45 , -0.54 , -2.00 ,
-2.16 , -1.03 , -0.79 ,-4.94 , -0.84 , 1.81 ,-1.37 , -0.39 , -2.20 ,
0.26 , -1.91 , -2.30 ,0.37 , -1.92 , -2.39 ,-5.80 , 2.26 , -0.39 ,
-1.43 , 0.02 , -2.51 ,-6.45 , -0.20 , 2.74 ,-5.25 , 0.00 , 1.35 ,
-4.34 , 0.32 , 0.13 ,-1.41 , 0.34 , -2.81 ,-2.36 , 0.74 , -2.25 ,
-5.24 , -1.23 , 2.61 ,-0.93 , -1.32 , -1.60 ,-2.00 , -0.35 , -1.49 ,
-4.15 , -0.84 , 1.16 ,-2.41 , 1.25 , -2.66 ,-3.62 , -0.93 , 0.74 ,
-8.17 , 2.44 , 1.93 ,-4.35 , -1.21 , 1.77 ,-3.34 , -1.26 , 0.82 ,
-5.49 , 2.75 , -1.03 ,-8.12 , 2.35 , 2.01 ,-0.77 , -0.67 , -2.31 ,
-4.87 , 2.59 , -1.46 ,-5.47 , -1.19 , 2.93 ,-5.61 , 1.87 , 0.02 ,
-7.53 , 2.92 , 0.90 ,-7.98 , 2.67 , 1.61 ,-4.18 , -2.44 , 2.93 ,
-2.96 , -1.91 , 1.19 ,-3.57 , -1.30 , 1.20 ,-6.56 , -0.07 , 2.97 ,
-3.87 , 1.03 , -0.81 ,-5.66 , 2.61 , -0.59 ,-1.01 , -0.89 , -1.73 ,
0.60 , -1.22 , -3.00 ,-3.52 , 0.67 , -0.76 ,-4.58 , -0.52 , 1.50 ,
-2.45 , -0.62 , -0.52 ,-6.79 , 0.26 , 2.95 ,1.83 , -2.61 , -2.79 ,
0.13 , -1.54 , -2.15 ,-2.35 , -2.19 , 0.99 ,-4.44 , 2.00 , -1.10 ,
-3.59 , -1.46 , 1.52 ,-7.19 , 2.48 , 1.19 ,-1.63 , -0.64 , -1.24 ,
-7.41 , 2.21 , 1.70 ,-4.43 , -1.83 , 2.77 ,-5.91 , 2.51 , -0.08 ,
-0.67 , -1.66 , -1.14 ,-1.32 , -1.95 , -0.19 ,-3.72 , -0.06 , 0.33 ,
-3.04 , 0.60 , -1.00 ,-2.38 , -2.12 , 1.07 ,-0.46 , -0.90 , -2.06 ,
-6.22 , 2.70 , 0.11 ,1.03 , -2.38 , -2.05 ,-0.65 , -1.57 , -1.17 ,
-3.40 , -2.69 , 2.71 ,0.01 , -1.16 , -2.22 ,-3.37 , -2.37 , 2.38 ,
-1.37 , -0.06 , -1.92 ,-6.33 , 2.42 , 0.57 ,-5.68 , 0.55 , 1.80 ,
0.82 , -1.85 , -2.29 ,-3.00 , -0.74 , 0.43 ,-3.52 , -2.18 , 2.40 ,
-0.59 , -2.56 , -0.14 ,1.45 , -2.53 , -2.20 ,-5.66 , 2.81 , -0.42 ,
-7.47 , 2.94 , 1.27 ,-4.32 , -0.38 , 1.45 ,-5.96 , 0.48 , 2.24 ,
1.41 , -1.68 , -2.96 ,0.81 , -2.43 , -1.60 ,-4.55 , -1.32 , 2.66 ,
-4.90 , 2.57 , -0.87 ,-2.48 , -2.27 , 1.56 ,-0.84 , 0.56 , -2.90 ,
-3.71 , -1.73 , 2.27 ,-4.58 , 1.77 , -0.35 ,-1.06 , -0.51 , -1.58 ,
-0.22 , -1.90 , -1.02 ,-4.59 , -1.31 , 2.77 ,-1.67 , 0.42 , -1.87 ,
-2.85 , -2.94 , 2.68 ,-1.28 , -1.33 , -0.49 ,2.08 , -2.25 , -2.92 ,
-2.04 , 0.39 , -1.43 ,-5.03 , 0.50 , 1.46 ,2.03 , -2.51 , -2.58 ,
-2.11 , 1.92 , -2.86 ,-2.85 , -0.05 , -0.14 ,-3.97 , -1.85 , 2.79 ,
-3.98 , -1.94 , 2.90 ,0.03 , -2.60 , -0.44 ,0.94 , -1.52 , -2.42 ,
-2.50 , -1.23 , 0.74 ,-4.88 , -1.03 , 2.93 ,-4.30 , -1.10 , 2.43 ,
0.80 , -0.95 , -2.81 ,-0.53 , 0.32 , -2.74 ,-4.52 , 0.93 , 0.65 ,
-1.50 , -2.67 , 1.24 ,-3.29 , 0.96 , -0.59 ,-4.25 , 2.83 , -1.49 ,
-7.10 , 2.52 , 1.68 ,-2.56 , -0.25 , -0.08 ,-4.73 , -0.71 , 2.56 ,
-6.59 , 1.45 , 2.27 ,-3.68 , 2.45 , -1.63 ,-1.23 , 0.65 , -2.27 ,
-4.14 , -1.64 , 2.94 ,-0.48 , 0.40 , -2.75 ,-3.08 , 2.90 , -2.64 ,
1.75 , -2.75 , -1.81 ,-5.06 , 2.47 , -0.21 ,-0.93 , -1.59 , -0.27 ,
-0.39 , -1.89 , -0.50 ,-3.15 , -2.43 , 2.81 ,-2.58 , 2.66 , -2.84 ,
-4.78 , -0.70 , 2.73 ,-1.45 , 0.17 , -1.46 ,0.89 , -1.99 , -1.63 ,
-1.25 , 0.02 , -1.49 ,-5.77 , 0.76 , 2.30 ,-1.99 , -1.72 , 1.01 ,
-4.00 , 2.76 , -1.45 ,-2.49 , 1.03 , -1.22 ,-0.01 , -1.23 , -1.43 ,
-3.31 , 2.78 , -2.13 ,-5.67 , 0.23 , 2.79 ,-1.09 , 0.45 , -2.00 ,
-6.61 , 1.99 , 1.99 ,-5.19 , 2.29 , 0.28 ,-4.04 , -0.67 , 2.10 ,
-0.41 , -2.74 , 0.55 ,-2.54 , 0.38 , -0.43 ,-3.76 , -1.63 , 2.81 ,
-3.67 , 0.53 , 0.57 ,-0.99 , -0.17 , -1.40 ,0.43 , -0.74 , -2.24 ,
-4.54 , 1.56 , 0.44 ,-7.79 , 2.44 , 2.82 ,-4.64 , -0.34 , 2.46 ,
-3.58 , 0.12 , 0.95 ,0.43 , -1.08 , -1.85 ,0.18 , -0.64 , -2.03 ,
-2.25 , 0.91 , -1.14 ,-1.87 , -1.12 , 0.52 ,1.85 , -1.64 , -2.67 ,
-2.03 , -0.82 , 0.40 ,-2.68 , -2.60 , 2.84 ,-1.55 , -0.23 , -0.65 ,
-5.61 , 2.80 , 0.39 ,-5.86 , 1.81 , 1.64 ,-0.33 , -0.73 , -1.34 ,
-2.51 , 2.73 , -2.61 ,-1.47 , -3.00 , 2.09 ,-2.76 , -0.31 , 0.70 ,
-3.96 , 2.36 , -0.76 ,-0.63 , -2.83 , 1.11 ,1.34 , -2.67 , -1.01 ,
-0.01 , -0.55 , -1.77 ,0.26 , -1.60 , -0.98 ,-3.71 , 1.74 , -0.34 ,
-1.67 , -1.44 , 0.81 ,3.34 , -2.71 , -2.92 ,2.43 , -1.73 , -2.98 ,
0.28 , -1.10 , -1.45 ,-0.78 , -0.15 , -1.33 ,1.69 , -2.00 , -1.94 ,
-5.59 , 2.18 , 1.17 ,0.63 , -1.64 , -1.22 ,0.56 , -0.59 , -2.19 ,
-5.14 , 1.23 , 1.70 ,-2.37 , 0.15 , 0.02 ,-5.31 , 0.47 , 2.65 ,
1.67 , -1.52 , -2.33 ,-3.16 , 0.96 , 0.03 ,-2.59 , 2.36 , -1.93 ,
-0.73 , -0.01 , -1.41 ,-5.64 , 2.24 , 1.26 ,-3.80 , 2.84 , -1.17 ,
-3.06 , 2.04 , -1.10 ,0.23 , -1.91 , -0.43 ,-3.56 , 0.00 , 1.46 ,
-3.97 , -0.10 , 1.98 ,1.44 , -2.70 , -0.82 ,1.71 , -2.82 , -0.96 ,
-2.60 , 1.99 , -1.45 ,-3.83 , 1.70 , 0.08 ,-1.62 , -0.09 , -0.33 ,
-1.15 , 1.08 , -1.96 ,-1.80 , 2.54 , -2.76 ,-3.29 , -1.29 , 2.57 ,
-1.69 , -1.20 , 0.89 ,-4.01 , -0.03 , 2.05 ,2.47 , -2.19 , -2.26 ,
-2.38 , -2.31 , 2.72 ,-4.68 , 2.70 , 0.02 ,1.67 , -2.90 , -0.72 ,
-1.43 , 0.47 , -0.98 ,-0.85 , 0.63 , -1.71 ,-3.20 , -0.75 , 2.03 ,
-2.18 , -1.91 , 2.18 ,-1.98 , -1.99 , 2.07 ,-2.73 , 2.46 , -1.62 ,
-3.33 , -0.19 , 1.64 ,-2.00 , 0.51 , -0.38 ,-1.46 , 1.43 , -1.83 ,
-4.41 , -0.19 , 2.75 ,1.19 , -2.68 , -0.35 ,0.48 , -2.25 , -0.06 ,
1.70 , -2.25 , -1.27 ,-1.98 , -1.37 , 1.54 ,-1.15 , 1.22 , -1.87 ,
-2.45 , -0.79 , 1.45 ,-3.71 , -0.13 , 2.06 ,3.68 , -2.68 , -2.77 ,
-3.70 , 1.55 , 0.39 ,-2.23 , 0.76 , -0.28 ,1.85 , -1.16 , -2.43 ,
-2.81 , 0.15 , 0.93 ,-3.32 , -0.07 , 1.67 ,-4.41 , 2.45 , 0.25 ,
-2.90 , 2.82 , -1.62 ,2.15 , -2.63 , -1.21 ,-0.17 , -1.61 , 0.10 ,
-5.34 , 2.61 , 1.06 ,-3.36 , -1.07 , 2.77 ,-0.90 , -0.83 , 0.08 ,
-5.35 , 1.43 , 2.28 ,-1.89 , -2.14 , 2.40 ,-1.63 , -0.73 , 0.74 ,
-3.08 , -0.61 , 2.08 ,-1.08 , 1.01 , -1.53 ,0.36 , -2.65 , 0.70 ,
-3.51 , 2.55 , -0.62 ,0.64 , -0.90 , -1.31 ,-5.21 , 1.86 , 1.79 ,
-5.25 , 0.72 , 2.98 ,-3.25 , -0.25 , 1.96 ,-4.37 , 1.49 , 1.35 ,
-6.26 , 2.10 , 2.64 ,-1.57 , -1.69 , 1.75 ,-0.09 , -1.69 , 0.28 ,
-1.09 , -1.23 , 0.83 ,-1.35 , 1.74 , -1.87 ,0.30 , -0.70 , -1.07 ,
-0.54 , 0.73 , -1.65 ,-0.50 , -1.39 , 0.44 ,1.44 , -2.69 , -0.19 ,
0.96 , -0.78 , -1.61 ,-2.62 , 1.31 , -0.11 ,-2.67 , 0.25 , 1.01 ,
0.15 , -1.52 , -0.03 ,0.20 , 1.01 , -2.60 ,0.52 , -1.28 , -0.62 ,
3.98 , -2.40 , -2.95 ,-2.67 , 1.72 , -0.41 ,-0.92 , -0.59 , 0.16 ,
1.67 , -1.06 , -1.95 ,-1.90 , -0.10 , 0.67 ,-4.44 , 0.14 , 2.98 ,
2.70 , -2.41 , -1.60 ,-0.99 , 1.77 , -2.08 ,-2.33 , 1.38 , -0.34 ,
-4.20 , 0.36 , 2.56 ,0.99 , -0.83 , -1.43 ,0.37 , -2.97 , 1.34 ,
-6.77 , 2.57 , 2.95 ,-0.64 , 1.25 , -1.85 ,0.64 , -2.20 , 0.33 ,
0.60 , 0.26 , -2.08 ,-2.89 , 0.10 , 1.58 ,-0.62 , -2.50 , 1.92 ,
-3.86 , 2.31 , 0.36 ,-0.81 , 0.26 , -0.63 ,0.67 , -2.00 , 0.16 ,
0.25 , -1.12 , -0.29 ,4.51 , -2.70 , -2.96 ,-4.76 , 2.32 , 1.30 ,
2.28 , -0.85 , -2.56 ,-4.25 , 0.32 , 2.81 ,-0.17 , -2.80 , 1.86 ,
1.84 , -1.32 , -1.62 ,-1.33 , 1.67 , -1.43 ,-2.75 , -0.49 , 2.16 ,
-1.20 , 2.06 , -1.93 ,-3.36 , 0.00 , 2.30 ,-0.41 , 1.07 , -1.71 ,
-3.78 , 0.88 , 1.86 ,0.80 , 0.93 , -2.76 ,3.29 , -1.90 , -2.41 ,
-4.42 , 2.19 , 1.22 ,0.09 , -2.92 , 1.83 ,0.90 , -0.84 , -1.05 ,
0.89 , 1.02 , -2.89 ,-0.07 , -1.06 , 0.16 ,-1.83 , 1.29 , -0.42 ,
-4.85 , 2.43 , 1.47 ,-0.68 , -2.70 , 2.44 ,-0.74 , -1.51 , 1.32 ,
-1.62 , 1.18 , -0.48 ,-3.32 , 1.93 , 0.48 ,-3.59 , 0.96 , 1.73 ,
2.92 , -2.45 , -1.36 ,2.33 , -2.47 , -0.74 ,-5.10 , 2.95 , 1.28 ,
0.52 , 0.39 , -1.77 ,-3.56 , 0.23 , 2.48 ,1.57 , -0.55 , -1.86 ,
-0.25 , -2.29 , 1.71 ,2.51 , -2.06 , -1.27 ,4.11 , -2.51 , -2.41 ,
0.11 , 1.88 , -2.79 ,0.95 , -0.18 , -1.56 ,-0.22 , -2.64 , 2.08 ,
0.58 , 1.29 , -2.64 ,0.49 , 0.43 , -1.68 ,1.96 , -2.97 , 0.26 ,
-1.44 , -1.10 , 1.80 ,-0.72 , 1.62 , -1.63 ,-5.00 , 2.73 , 1.55 ,
1.95 , -0.74 , -1.92 ,-0.71 , -2.88 , 2.89 ,-1.49 , -1.80 , 2.60 ,
0.68 , -0.72 , -0.64 ,-3.85 , 0.33 , 2.85 ,4.41 , -2.11 , -2.96 ,
-3.31 , 1.50 , 1.16 ,1.06 , -1.00 , -0.70 ,-0.45 , 0.50 , -0.68 ,
-2.63 , 0.70 , 1.31 ,-1.74 , 1.97 , -0.84 ,0.16 , 1.65 , -2.41 ,
-2.38 , 2.46 , -0.67 ,2.83 , -2.01 , -1.40 ,-2.46 , 1.28 , 0.61 ,
-1.70 , 0.97 , 0.17 ,0.06 , 0.88 , -1.49 ,-0.18 , -2.66 , 2.30 ,
-1.31 , -2.14 , 2.92 ,-3.13 , 0.08 , 2.53 ,-4.03 , 0.84 , 2.68 ,
-5.54 , 2.06 , 2.98 ,-1.57 , 2.35 , -1.27 ,1.69 , -2.57 , 0.40 ,
1.59 , -1.63 , -0.43 ,3.05 , -1.39 , -2.12 ,-0.86 , -1.21 , 1.62 ,
2.42 , -2.19 , -0.67 ,-5.10 , 1.84 , 2.83 ,4.11 , -2.17 , -2.36 ,
1.78 , -2.75 , 0.56 ,-3.21 , 1.69 , 1.12 ,3.37 , -2.02 , -1.74 ,
4.44 , -2.79 , -2.03 ,-0.46 , 2.25 , -2.16 ,-2.92 , -0.06 , 2.62 ,
-3.07 , 2.62 , 0.10 ,0.31 , 2.06 , -2.71 ,-3.84 , 1.39 , 2.12 ,
-0.48 , -1.15 , 1.31 ,-2.36 , 0.56 , 1.49 ,1.22 , -0.91 , -0.61 ,
-3.55 , 2.30 , 0.96 ,0.06 , -2.85 , 2.51 ,3.44 , -1.09 , -2.62 ,
-3.51 , 1.37 , 1.88 ,4.16 , -2.47 , -1.94 ,0.55 , 0.16 , -0.95 ,
2.26 , -0.07 , -2.42 ,0.35 , -0.08 , -0.49 ,-4.08 , 1.77 , 2.10 ,
-0.29 , 0.22 , -0.13 ,4.82 , -2.18 , -2.83 ,-2.26 , 2.92 , -0.84 ,
-4.69 , 2.62 , 1.90 ,-1.22 , -1.45 , 2.51 ,-1.36 , 1.64 , -0.43 ,
3.16 , -1.79 , -1.51 ,5.71 , -2.95 , -2.89 ,-3.86 , 1.10 , 2.64 ,
-1.20 , 1.93 , -0.84 ,-2.20 , 1.02 , 1.08 ,5.40 , -2.51 , -2.98 ,
0.06 , 2.31 , -2.45 ,2.53 , -2.49 , -0.11 ,2.21 , 0.43 , -2.70 ,
2.31 , -0.85 , -1.51 ,4.72 , -2.22 , -2.54 ,0.67 , 0.11 , -0.81 ,
-1.35 , 2.41 , -1.08 ,-0.35 , -0.29 , 0.63 ,1.94 , 0.69 , -2.63 ,
-2.19 , -0.33 , 2.53 ,-1.77 , 0.46 , 1.33 ,-1.26 , 2.58 , -1.29 ,
4.09 , -2.65 , -1.40 ,-3.47 , 0.97 , 2.55 ,3.40 , -2.43 , -0.91 ,
-1.06 , -0.25 , 1.38 ,0.68 , 1.26 , -1.86 ,3.20 , -1.58 , -1.53 ,
-2.89 , 0.75 , 2.24 ,2.90 , -0.27 , -2.52 ,-0.26 , -1.19 , 1.57 ,
-1.12 , -1.37 , 2.62 ,0.81 , 0.69 , -1.36 ,0.20 , 1.00 , -1.05 ,
-3.46 , 0.70 , 2.92 ,0.01 , 0.91 , -0.75 ,-4.69 , 2.08 , 2.79 ,
2.03 , -1.92 , 0.08 ,-3.12 , 0.85 , 2.47 ,1.18 , -1.09 , 0.12 ,
-2.23 , 2.55 , -0.10 ,-2.17 , 0.32 , 2.08 ,0.57 , 0.36 , -0.69 ,
1.63 , -2.24 , 0.86 ,-3.67 , 2.00 , 1.93 ,2.78 , -1.43 , -1.08 ,
1.68 , -1.99 , 0.59 ,-1.18 , -0.63 , 2.10 ,2.15 , 0.31 , -2.16 ,
1.05 , -2.88 , 2.14 ,-1.67 , -0.77 , 2.76 ,-1.22 , 0.39 , 1.16 ,
2.09 , -1.98 , 0.23 ,-2.98 , 2.75 , 0.58 ,0.25 , -1.91 , 2.02 ,
-1.40 , 2.15 , -0.38 ,3.88 , -1.09 , -2.41 ,2.77 , 0.17 , -2.55 ,
-3.29 , 1.21 , 2.48 ,1.82 , 0.19 , -1.60 ,-4.35 , 2.65 , 2.12 ,
0.77 , -2.03 , 1.69 ,-2.84 , 0.35 , 2.93 ,0.47 , -1.91 , 1.89 ,
0.34 , -0.72 , 0.84 ,-1.79 , 0.71 , 1.55 ,0.20 , 1.15 , -0.87 ,
1.64 , 1.30 , -2.45 ,4.72 , -2.36 , -1.86 ,3.16 , -1.25 , -1.40 ,
2.77 , 0.51 , -2.76 ,0.61 , 2.21 , -2.29 ,5.15 , -1.66 , -2.95 ,
-1.91 , -0.39 , 2.85 ,0.50 , -0.98 , 1.04 ,-0.88 , -0.86 , 2.31 ,
0.27 , 0.31 , 0.00 ,0.93 , -2.69 , 2.35 ,-1.64 , -0.66 , 2.90 ,
2.17 , 1.43 , -2.99 ,0.58 , -1.05 , 1.09 ,3.99 , -1.59 , -1.77 ,
-1.55 , 2.63 , -0.44 ,2.00 , -1.62 , 0.27 ,2.48 , -0.25 , -1.57 ,
0.84 , -0.08 , -0.09 ,2.84 , -2.94 , 0.78 ,-1.97 , 0.13 , 2.53 ,
-2.80 , 2.91 , 0.59 ,-2.19 , 0.23 , 2.67 ,1.89 , 0.19 , -1.36 ,
1.15 , -2.43 , 2.01 ,-2.08 , 1.94 , 0.88 ,3.37 , -2.79 , 0.17 ,
-4.09 , 2.43 , 2.42 ,-0.82 , -1.17 , 2.76 ,-0.49 , -0.19 , 1.46 ,
-1.94 , 2.15 , 0.58 ,-1.71 , 1.34 , 1.17 ,0.37 , 1.46 , -1.02 ,
-2.48 , 0.51 , 2.79 ,0.13 , 2.43 , -1.73 ,-2.33 , 0.30 , 2.87 ,
-3.39 , 1.43 , 2.81 ,-0.23 , -0.88 , 1.97 ,4.53 , -0.67 , -2.99 ,
2.95 , -1.29 , -0.78 ,0.87 , 1.56 , -1.54 ,-1.20 , 0.25 , 1.85 ,
1.41 , -2.31 , 1.81 ,1.90 , 0.97 , -1.95 ,-3.84 , 2.21 , 2.56 ,
1.29 , -2.63 , 2.28 ,-2.28 , 2.87 , 0.36 ,-0.35 , 1.93 , -0.62 ,
0.19 , -1.46 , 2.24 ,6.10 , -2.49 , -2.63 ,4.41 , -0.94 , -2.48 ,
4.93 , -2.96 , -0.97 ,0.83 , 0.43 , -0.25 ,-1.28 , 2.54 , -0.24 ,
3.56 , -1.82 , -0.71 ,0.88 , -1.17 , 1.33 ,2.50 , 0.39 , -1.84 ,
2.57 , 0.04 , -1.55 ,3.80 , -2.30 , -0.43 ,2.23 , 1.21 , -2.36 ,
1.65 , -0.66 , 0.10 ,0.56 , -0.76 , 1.30 ,-1.76 , 2.50 , 0.37 ,
2.03 , 0.88 , -1.79 ,-0.48 , -0.86 , 2.47 ,0.29 , 2.76 , -1.91 ,
-2.64 , 2.30 , 1.49 ,3.74 , 0.00 , -2.58 ,-0.27 , -1.35 , 2.79 ,
4.44 , -1.53 , -1.73 ,-1.18 , 0.69 , 1.68 ,-0.96 , -0.66 , 2.82 ,
1.65 , 0.78 , -1.22 ,-1.97 , 2.52 , 0.67 ,2.85 , -2.12 , 0.50 ,
-1.33 , 1.63 , 0.94 ,-2.40 , 2.76 , 0.89 ,-2.27 , 1.09 , 2.44 ,
0.19 , -1.36 , 2.44 ,0.65 , 2.98 , -2.35 ,-0.58 , 1.58 , 0.29 ,
-1.03 , 0.66 , 1.67 ,0.64 , -0.41 , 1.08 ,1.46 , -2.91 , 2.77 ,
0.02 , -1.58 , 2.89 ,5.41 , -2.37 , -1.70 ,-0.11 , 1.44 , 0.02 ,
3.27 , -2.71 , 0.80 ,-0.79 , 0.97 , 1.19 ,-4.19 , 2.97 , 2.60 ,
-1.12 , 1.51 , 1.00 ,3.38 , 0.30 , -2.28 ,-0.18 , 2.24 , -0.65 ,
2.06 , 1.02 , -1.66 ,1.47 , 2.18 , -2.22 ,4.61 , -1.12 , -2.05 ,
-0.36 , -1.02 , 2.83 ,0.87 , 1.99 , -1.40 ,5.22 , -1.94 , -1.81 ,
0.17 , -0.16 , 1.47 ,-1.55 , 0.52 , 2.52 ,5.00 , -2.55 , -0.95 ,
-0.02 , 0.34 , 1.19 ,1.58 , -0.05 , -0.01 ,2.69 , 1.36 , -2.52 ,
3.05 , 1.38 , -2.89 ,0.23 , 0.18 , 1.14 ,0.46 , 0.50 , 0.60 ,
0.24 , 1.31 , 0.02 ,4.61 , -2.84 , -0.19 ,2.97 , -0.66 , -0.72 ,
-1.18 , 2.81 , -0.03 ,1.14 , 1.34 , -0.87 ,2.13 , -2.66 , 2.15 ,
4.07 , -0.87 , -1.57 ,1.15 , 0.01 , 0.48 ,-1.65 , 1.93 , 1.37 ,
1.27 , 0.50 , -0.11 ,0.30 , -0.05 , 1.42 ,-2.60 , 2.21 , 2.07 ,
-0.07 , 0.83 , 0.93 ,3.98 , -2.16 , -0.12 ,4.77 , -0.80 , -2.26 ,
3.32 , 0.48 , -2.08 ,1.67 , 2.35 , -2.29 ,2.57 , 2.09 , -2.92 ,
4.86 , -1.62 , -1.49 ,1.97 , -2.74 , 2.53 ,-1.05 , 0.11 , 2.71 ,
2.77 , -2.35 , 1.36 ,2.77 , 0.90 , -1.88 ,-0.55 , -0.42 , 2.77 ,
4.70 , -0.57 , -2.32 ,2.55 , -0.66 , -0.07 ,4.04 , -0.53 , -1.68 ,
-0.64 , 0.47 , 2.01 ,4.77 , -0.94 , -1.98 ,-2.68 , 2.18 , 2.36 ,
-1.85 , 2.78 , 0.94 ,-0.36 , 0.00 , 2.24 ,-3.11 , 2.58 , 2.42 ,
2.98 , -1.55 , 0.47 ,-3.67 , 2.80 , 2.78 ,0.23 , 1.26 , 0.43 ,
0.37 , 2.23 , -0.67 ,-0.75 , 0.61 , 2.08 ,2.93 , -2.88 , 1.90 ,
1.29 , -1.18 , 1.85 ,-2.84 , 2.64 , 2.17 ,1.24 , 1.32 , -0.58 ,
3.99 , -0.22 , -1.78 ,3.88 , 0.40 , -2.28 ,0.33 , 2.94 , -1.26 ,
3.64 , -1.03 , -0.59 ,0.27 , 1.17 , 0.59 ,2.25 , 0.73 , -0.94 ,
3.76 , -2.34 , 0.63 ,4.32 , -2.41 , 0.15 ,1.85 , -0.18 , 0.40 ,
7.60 , -2.54 , -2.98 ,1.72 , -2.53 , 2.90 ,1.19 , 1.65 , -0.74 ,
0.41 , -0.14 , 1.84 ,-0.27 , 0.83 , 1.56 ,-0.01 , 0.66 , 1.48 ,
4.64 , -0.84 , -1.66 ,4.64 , -1.59 , -0.90 ,5.19 , -0.07 , -2.96 ,
1.74 , 2.13 , -1.70 ,0.28 , -0.83 , 2.73 ,4.97 , -1.71 , -1.07 ,
7.04 , -2.04 , -2.80 ,2.03 , -2.55 , 2.73 ,0.60 , 2.64 , -1.02 ,
3.20 , -1.37 , 0.40 ,0.88 , 1.38 , -0.02 ,-1.43 , 1.76 , 1.92 ,
1.70 , -1.38 , 1.94 ,-2.90 , 2.18 , 2.99 ,-1.41 , 2.34 , 1.35 ,
3.82 , -2.25 , 0.72 ,-0.98 , 0.40 , 2.88 ,1.45 , 0.54 , 0.32 ,
2.33 , -2.47 , 2.46 ,3.06 , 0.48 , -1.21 ,5.41 , -0.51 , -2.56 ,
4.81 , -0.66 , -1.80 ,0.42 , -0.47 , 2.41 ,4.41 , -2.70 , 0.66 ,
1.23 , 1.12 , 0.03 ,2.53 , 1.39 , -1.53 ,2.72 , 0.45 , -0.77 ,
1.52 , -1.48 , 2.37 ,3.35 , -2.25 , 1.32 ,2.53 , -1.21 , 1.11 ,
4.21 , -1.70 , -0.07 ,3.20 , -2.02 , 1.27 ,2.68 , 2.53 , -2.75 ,
3.83 , -1.66 , 0.30 ,4.18 , -1.75 , 0.05 ,0.38 , 0.32 , 1.79 ,
1.36 , 1.37 , -0.23 ,1.31 , -0.79 , 1.99 ,1.67 , 0.47 , 0.38 ,
2.05 , -2.00 , 2.48 ,3.85 , 0.94 , -2.25 ,6.89 , -2.39 , -1.95 ,
-1.45 , 2.99 , 1.02 ,2.79 , 0.65 , -0.87 ,2.84 , -2.95 , 2.69 ,
3.82 , 0.41 , -1.64 ,1.38 , -0.08 , 1.30 ,3.04 , -0.74 , 0.31 ,
3.57 , -0.10 , -0.85 ,3.87 , -0.02 , -1.22 ,-0.93 , 0.72 , 2.85 ,
0.12 , 0.11 , 2.42 ,2.92 , -1.98 , 1.72 ,-0.09 , 0.44 , 2.32 ,
3.12 , 0.46 , -0.90 ,6.60 , -2.11 , -1.80 ,0.20 , 1.78 , 0.72 ,
0.34 , -0.21 , 2.58 ,3.57 , 0.29 , -1.14 ,4.94 , -1.79 , -0.42 ,
0.75 , 1.55 , 0.44 ,2.49 , -1.28 , 1.54 ,5.06 , -2.73 , 0.43 ,
0.52 , 0.33 , 1.92 ,4.21 , -0.16 , -1.27 ,0.30 , 1.92 , 0.57 ,
3.14 , -1.85 , 1.51 ,1.92 , -1.81 , 2.70 ,5.69 , -0.64 , -2.23 ,
8.46 , -2.80 , -2.83 ,5.00 , -2.97 , 0.81 ,-0.57 , 1.12 , 2.30 ,
3.48 , 2.05 , -2.67 ,2.26 , -1.92 , 2.53 ,7.22 , -2.85 , -1.49 ,
2.44 , 0.10 , 0.35 ,8.02 , -2.58 , -2.54 ,0.30 , 2.76 , -0.15 ,
7.34 , -1.96 , -2.46 ,4.51 , -1.62 , 0.04 ,7.21 , -2.18 , -2.09 ,
0.79 , 2.33 , -0.17 ,3.68 , -0.02 , -0.70 ,3.81 , -0.33 , -0.51 ,
-0.57 , 1.06 , 2.49 ,2.70 , 1.02 , -0.73 ,2.26 , -1.66 , 2.40 ,
2.23 , -0.71 , 1.49 ,-0.24 , 2.55 , 0.71 ,-0.65 , 1.92 , 1.76 ,
3.35 , -2.04 , 1.73 ,6.51 , -0.65 , -2.81 ,1.54 , 0.50 , 1.02 ,
2.38 , -1.15 , 1.84 ,0.44 , 2.14 , 0.50 ,3.82 , 0.13 , -0.86 ,
2.02 , 1.34 , -0.26 ,6.69 , -1.66 , -1.92 ,1.50 , 1.88 , -0.26 ,
1.13 , -0.17 , 2.17 ,5.02 , -2.47 , 0.59 ,8.42 , -2.60 , -2.67 ,
4.77 , -1.62 , 0.01 ,4.98 , -0.48 , -1.33 ,1.22 , 1.83 , 0.13 ,
3.95 , -2.53 , 1.77 ,2.98 , 1.69 , -1.47 ,5.95 , -2.85 , 0.11 ,
2.28 , 1.74 , -0.80 ,1.12 , 2.67 , -0.56 ,3.10 , -1.94 , 2.08 ,
7.26 , -1.22 , -2.79 ,-1.43 , 2.32 , 2.37 ,0.65 , 0.74 , 1.88 ,
2.18 , 0.10 , 1.00 ,7.51 , -2.54 , -1.68 ,6.54 , -2.43 , -0.81 ,
3.98 , -1.48 , 0.81 ,7.77 , -1.88 , -2.57 ,1.62 , 2.77 , -1.06 ,
2.17 , 0.86 , 0.31 ,6.36 , -1.50 , -1.51 ,4.91 , -2.78 , 1.23 ,
3.54 , -0.80 , 0.63 ,-0.01 , 2.83 , 0.56 ,-0.76 , 2.54 , 1.61 ,
-1.82 , 2.52 , 2.70 ,5.30 , 0.33 , -2.22 ,0.93 , 1.09 , 1.40 ,
8.37 , -2.40 , -2.54 ,2.78 , 2.47 , -1.81 ,-2.11 , 2.82 , 2.74 ,
4.48 , -2.91 , 1.89 ,8.13 , -2.51 , -2.15 ,3.06 , 1.39 , -0.97 ,
8.78 , -2.56 , -2.73 ,0.78 , 0.67 , 2.05 ,2.20 , 0.11 , 1.20 ,
3.49 , 1.66 , -1.63 ,5.05 , 1.33 , -2.85 ,1.63 , -0.48 , 2.39 ,
1.46 , -0.90 , 2.99 ,8.02 , -1.85 , -2.61 ,-0.31 , 2.31 , 1.57 ,
3.66 , -1.95 , 1.87 ,1.74 , 1.74 , 0.11 ,4.17 , -0.60 , 0.03 ,
4.18 , -2.66 , 2.09 ,8.19 , -2.31 , -2.26 ,4.21 , 0.15 , -0.73 ,
6.53 , -1.72 , -1.17 ,0.38 , 0.81 , 2.46 ,3.67 , -0.33 , 0.32 ,
0.10 , 2.39 , 1.18 ,5.18 , 1.33 , -2.83 ,-1.11 , 2.90 , 1.90 ,
1.92 , 1.98 , -0.20 ,3.46 , -0.69 , 0.94 ,6.13 , 0.48 , -2.89 ,
7.17 , -2.98 , -0.46 ,4.76 , -2.65 , 1.63 ,2.69 , -0.45 , 1.51 ,
3.72 , -2.48 , 2.52 ,4.95 , -0.74 , -0.44 ,5.50 , -1.26 , -0.46 ,
6.25 , -2.07 , -0.39 ,1.95 , 1.11 , 0.74 ,4.98 , -0.39 , -0.78 ,
2.93 , 2.74 , -1.85 ,4.31 , 1.10 , -1.58 ,2.86 , -0.80 , 1.78 ,
6.80 , -0.97 , -1.98 ,-0.58 , 2.44 , 2.00 ,-0.76 , 2.14 , 2.49 ,
1.79 , 0.62 , 1.47 ,5.82 , -1.69 , -0.24 ,5.10 , 0.52 , -1.72 ,
2.82 , 0.79 , 0.30 ,8.61 , -1.96 , -2.73 ,0.13 , 1.30 , 2.50 ,
0.67 , 1.04 , 2.23 ,0.23 , 1.97 , 1.75 ,2.85 , 2.43 , -1.32 ,
3.78 , -0.26 , 0.45 ,5.13 , 0.11 , -1.26 ,5.37 , 0.65 , -2.03 ,
3.33 , -0.25 , 0.92 ,4.16 , 1.72 , -1.87 ,1.18 , 1.55 , 1.29 ,
3.77 , -1.47 , 1.73 ,4.44 , -0.06 , -0.34 ,5.29 , -0.85 , -0.39 ,
7.67 , -1.49 , -2.12 ,1.33 , 2.18 , 0.56 ,7.82 , -1.93 , -1.81 ,
3.23 , 2.02 , -1.16 ,2.17 , 0.42 , 1.51 ,5.10 , -2.62 , 1.63 ,
-1.10 , 2.72 , 2.50 ,1.67 , 0.57 , 1.89 ,1.70 , 2.42 , 0.02 ,
4.18 , 1.10 , -1.13 ,4.43 , 1.05 , -1.32 ,4.32 , -0.23 , 0.08 ,
7.03 , 0.02 , -2.87 ,1.67 , 2.42 , 0.10 ,4.73 , -1.01 , 0.48 ,
6.66 , -1.68 , -0.77 ,1.24 , 2.69 , 0.29 ,5.42 , -0.20 , -0.99 ,
3.81 , -1.02 , 1.45 ,6.72 , -0.17 , -2.30 ,3.92 , -2.55 , 2.89 ,
4.47 , 1.92 , -2.12 ,9.94 , -2.97 , -2.69 ,2.79 , 0.35 , 1.15 ,
1.83 , 0.09 , 2.38 ,5.92 , -2.17 , 0.56 ,2.24 , 1.75 , 0.33 ,
1.91 , 2.15 , 0.27 ,8.63 , -2.69 , -1.60 ,6.88 , -0.61 , -1.92 ,
6.00 , -0.70 , -0.94 ,0.55 , 2.79 , 1.03 ,-1.22 , 2.82 , 2.78 ,
6.30 , -2.99 , 1.08 ,0.20 , 2.69 , 1.51 ,4.14 , 2.23 , -1.96 ,
6.96 , -2.20 , -0.34 ,7.95 , -2.33 , -1.19 ,4.29 , -1.04 , 1.19 ,
3.64 , 2.74 , -1.93 ,3.87 , 1.57 , -0.98 ,3.09 , 1.22 , 0.16 ,
0.91 , 1.05 , 2.52 ,4.64 , 0.60 , -0.75 ,1.15 , 2.59 , 0.76 ,
5.30 , -0.62 , -0.17 ,4.82 , -0.73 , 0.43 ,7.27 , 0.01 , -2.75 ,
8.37 , -1.59 , -2.24 ,2.76 , 2.53 , -0.74 ,-0.62 , 2.39 , 2.79 ,
8.61 , -1.41 , -2.63 ,-0.46 , 2.20 , 2.84 ,7.76 , -2.96 , -0.21 ,
6.75 , -2.30 , 0.15 ,2.68 , -0.72 , 2.65 ,1.62 , 2.09 , 0.91 ,
5.83 , -1.03 , -0.17 ,6.16 , 1.41 , -2.93 ,6.08 , -2.23 , 0.80 ,
3.83 , 1.16 , -0.33 ,5.20 , -0.75 , 0.22 ,3.92 , -2.15 , 2.91 ,
8.11 , -2.43 , -0.99 ,-0.05 , 2.02 , 2.73 ,2.96 , 0.04 , 1.71 ,
0.62 , 1.13 , 2.97 ,7.55 , -1.56 , -1.26 ,5.64 , -2.87 , 1.97 ,
2.80 , -0.23 , 2.18 ,3.56 , -1.30 , 2.50 ,7.36 , -0.68 , -1.91 ,
1.12 , 2.90 , 0.76 ,3.28 , 2.11 , -0.60 ,9.05 , -1.46 , -2.79 ,
3.20 , 0.39 , 1.22 ,2.44 , 1.02 , 1.36 ,8.07 , -1.06 , -2.18 ,
5.77 , -0.40 , -0.53 ,3.01 , 2.90 , -1.06 ,6.85 , -0.02 , -1.97 ,
4.66 , -1.10 , 1.31 ,1.62 , 2.90 , 0.36 ,6.09 , -2.24 , 1.04 ,
2.79 , 1.46 , 0.65 ,4.59 , 0.91 , -0.59 ,1.84 , 0.60 , 2.48 ,
6.42 , -1.31 , -0.18 ,8.10 , -0.61 , -2.55 ,4.55 , 2.64 , -2.24 ,
6.91 , -0.30 , -1.65 ,2.89 , -0.28 , 2.36 ,2.26 , 0.56 , 2.16 ,
7.75 , -2.68 , -0.08
};

//******************************************************************************************************//

uint8_t get_key(uint8_t* k)
{
	// Load key here
	return 0x00;
}

#if SS_VER == SS_VER_2_0
uint8_t get_pt(uint8_t cmd, uint8_t scmd, uint8_t len, uint8_t* pt)
#else
uint8_t get_pt(uint8_t* pt) 
#endif

{
	/**********************************
	* Start user-specific code here. */

    // 입력층 
    X[0] = input[count];
    X[1] = input[count+1];
    X[2] = input[count+2];
    count+=3;

#if 1
    int i, j;
	float sum = 0;

	// Weight 설정 
	for (i = 0; i < INPUT; i++)
	{
		for (j = 0; j < HIDDEN; j++)
		{
			WX[i][j] = 1.0;
		}
	}
    
    

	for (i = 0; i < HIDDEN; i++)
	{
		for (j = 0; j < OUTPUT; j++)
		{
			WH[i][j] = 1.0;
		}
	}

    //WH[0][0] = 2.0; // 출력값 확인용 
    
    
	// 초기화 
	memset(WSX, 0, sizeof(WSX));
	memset(WSH, 0, sizeof(WSH));
#endif
    
	trigger_high();
    

	// 가중합 + 활성함수 
	for (i = 0; i < HIDDEN; i++) // HIDDEN
	{
		for (j = 0; j < INPUT; j++)  
		{
			WSX[i] += X[j] * WX[j][i];
		}
		AFR[i] = sigmoid(WSX[i]);
		//AFR[i] = tanh2(WSX[i]);
		//AFR[i] = relu(WSX[i]);
	}

    
#if 1
	// 가중합 + softmax exp연산 
	for (i = 0; i < OUTPUT; i++)
	{
		for (j = 0; j < HIDDEN; j++) 
		{
			WSH[i] += AFR[j] * WH[j][i];
		}
		Y[i] = exp(WSH[i]); // 분자 
		sum += Y[i];
	}

	
	for (i = 0; i < OUTPUT; i++) 
	{
		Y[i] /= sum; 
	}
#endif
    
    
trigger_low();
	//16 hex bytes held in 'pt' were sent
	//from the computer. Store your response
	//back into 'pt', which will send 16 bytes
	//back to computer. Can ignore of course if
	//not needed
	
	
     
	/* End user-specific code here. *
	********************************/
	simpleserial_put('r', 16, pt);
	return 0x00;
}

uint8_t reset(uint8_t* x)
{
	// Reset key here if needed
	return 0x00;
}


int main(void)
{
    platform_init();
	init_uart();	
	trigger_setup();
	
 	/* Uncomment this to get a HELLO message for debug */
	/*
	putch('h');
	putch('e');
	putch('l');
	putch('l');
	putch('o');
	putch('\n');
	*/
		
	simpleserial_init();		
	simpleserial_addcmd('p', 16, get_pt);
#if SS_VER != SS_VER_2_0
	simpleserial_addcmd('k', 16, get_key);
	simpleserial_addcmd('x', 0, reset);
#endif
	while(1)
		simpleserial_get();
}
